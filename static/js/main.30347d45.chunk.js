(this["webpackJsonpunlu-project"]=this["webpackJsonpunlu-project"]||[]).push([[0],{39:function(e,t,a){e.exports=a(57)},44:function(e,t,a){},48:function(e,t,a){},51:function(e,t,a){},53:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(14),l=a.n(c),o=(a(44),a(37)),s=a(5),i=a(30),m=a(15),u=a(60),f=a(22),d=a.n(f),E=a(62),h=a(59);a(46),a(47),a(48);function g(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{className:"",onClick:function(){return e.getModalData(e.feed)}},r.a.createElement(E.a.Header,null,r.a.createElement(E.a.Title,null,e.feed.event_name),r.a.createElement(E.a.Text,{className:"text-muted"},r.a.createElement("i",{className:"fa fa-clock-o","aria-hidden":"true"})," ",d()(e.feed.event_date).format("lll"))),r.a.createElement(h.a,{src:e.feed.thumbnail_image,thumbnail:!0}),r.a.createElement(E.a.Footer,{className:"text-muted text-center"},r.a.createElement(E.a.Body,null,r.a.createElement(E.a.Link,{className:"text-muted text-center"},r.a.createElement("i",{className:"fa fa-heart"}," ",e.feed.likes)," "),r.a.createElement(E.a.Link,{className:"text-muted text-center"},r.a.createElement("i",{className:"fa fa-share"}," ",e.feed.shares)),r.a.createElement(E.a.Link,{className:"text-muted text-center"},r.a.createElement("i",{className:"fa fa-eye"}," ",e.feed.views))))))}var b=a(61),v=(a(51),r.a.memo((function(e){return console.log(e),r.a.createElement(b.a,Object.assign({},e,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),r.a.createElement(E.a,null,r.a.createElement(b.a.Header,{closeButton:!0,onClick:function(){return e.closemodal(!1)}},r.a.createElement(b.a.Title,{id:"contained-modal-title-vcenter"},e.feed.event_name,r.a.createElement("br",null),r.a.createElement(b.a.Title,{className:"text-muted"},r.a.createElement("p",null,r.a.createElement("i",{className:"fa fa-clock-o","aria-hidden":"true"})," ",d()(e.feed.event_date).format("lll"))))),r.a.createElement(h.a,{src:e.feed.thumbnail_image,thumbnail:!0}),r.a.createElement(E.a.Footer,{className:"text-muted text-center"},r.a.createElement(E.a.Body,null,r.a.createElement(E.a.Link,{className:"text-muted text-center"},r.a.createElement("i",{className:"fa fa-heart"}," ",e.feed.likes)," "),r.a.createElement(E.a.Link,{className:"text-muted text-center"},r.a.createElement("i",{className:"fa fa-share"}," ",e.feed.shares)),r.a.createElement(E.a.Link,{className:"text-muted text-center"},r.a.createElement("i",{className:"fa fa-eye"}," ",e.feed.views))))))})));function k(e){var t=e.error;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card br text-center",style:{padding:"20px",color:"red",fontSize:"large"}},t.msg.toString()))}function N(e){return r.a.createElement("nav",{class:"navbar fixed-top navbar-light bg-light"},r.a.createElement(E.a.Body,{className:"text-muted"},"Sort\xa0",e.sorttype?r.a.createElement("i",{class:"fa sort fa-sort-amount-asc","aria-hidden":"true",onClick:e.changeStatus}):r.a.createElement("i",{class:"fa sort fa-sort-amount-desc","aria-hidden":"true",onClick:e.changeStatus}),"  ","\xa0\xa0",r.a.createElement(E.a.Link,{onClick:function(){return e.sortBy("likes")}},r.a.createElement("i",{className:"fa fa-heart","aria-hidden":"true"}," ","Likes")," "),r.a.createElement(E.a.Link,{onClick:function(){return e.sortBy("shares")}},r.a.createElement("i",{className:"fa fa-share","aria-hidden":"true"}," ","Shares")),r.a.createElement(E.a.Link,{onClick:function(){return e.sortBy("views")}},r.a.createElement("i",{className:"fa fa-eye","aria-hidden":"true"}," ","Views")),r.a.createElement(E.a.Link,{onClick:function(){return e.sortBy("event_date")}},r.a.createElement("i",{className:"fa fa-clock-o","aria-hidden":"true"}," ","Date"))))}function O(){var e=Object(n.useState)(0),t=Object(m.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(!0),o=Object(m.a)(l,2),s=o[0],f=o[1],d=Object(n.useState)([]),E=Object(m.a)(d,2),h=E[0],b=E[1],O=Object(n.useState)({}),p=Object(m.a)(O,2),w=p[0],x=p[1],y=Object(n.useState)(!1),S=Object(m.a)(y,2),j=S[0],L=S[1],B=Object(n.useState)({}),I=Object(m.a)(B,2),C=I[0],J=I[1],T=Object(n.useState)({error:!1,msg:""}),_=Object(m.a)(T,2),F=_[0],M=_[1],D=["http://www.mocky.io/v2/59b3f0b0100000e30b236b7e","http://www.mocky.io/v2/59ac28a9100000ce0bf9c236","http://www.mocky.io/v2/59ac293b100000d60bf9c239"];Object(n.useEffect)((function(){Object.keys(h).length&&(localStorage.setItem("feeds",JSON.stringify(h)),x(h))}),[h]);var R=function(e){J(e),L(!0)};Object(n.useEffect)((function(){navigator.onLine&&window.addEventListener("scroll",(function(){var e=parseInt(window.pageYOffset/2100);e&&D.length>e&&a!=e&&c(e)}))})),Object(n.useEffect)((function(){if(navigator.onLine)fetch(D[a],{cache:"force-cache"}).then((function(e){return 200!==e.status&&M({error:!0,msg:"Oops :) API ERROR"}),e.json()})).then((function(e){var t=[].concat(Object(i.a)(h),Object(i.a)(e.posts)),a=t.filter((function(e,a){var n=JSON.stringify(e);return a===t.findIndex((function(e){return JSON.stringify(e)===n}))}));b(a),localStorage.setItem("feeds",JSON.stringify(a))})).catch((function(e){var t=localStorage.getItem("feeds")?JSON.parse(localStorage.getItem("feeds")):[];t?b(t):M({error:!0,msg:"Oops :) No data Available This Moment"})}));else{var e=localStorage.getItem("feeds")?JSON.parse(localStorage.getItem("feeds")):[];e&&b(e),M({error:!0,msg:"Unable to connect to the internet !!"})}}),[a]);return r.a.createElement(r.a.Fragment,null,w.length>0&&r.a.createElement(N,{sortBy:function(e){h.sort((function(t,a){return 0==s?a[e]>t[e]?1:a[e]<t[e]?-1:0:a[e]<t[e]?1:a[e]>t[e]?-1:0})),window.scrollTo({behavior:"smooth",top:0}),x(Object.assign([],h))},sorttype:s,changeStatus:function(){return f(!s)}}),r.a.createElement(u.a,{style:{marginTop:"65px"}},w.length>0?w.map((function(e,t){return r.a.createElement(g,{feed:e,key:t,getModalData:R})})):"",r.a.createElement(v,{show:j,feed:C,closemodal:function(){return L(!1)}}),F.error?r.a.createElement(k,{error:F}):""))}a(53);var p=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.a,null,r.a.createElement(s.a,{exact:!0,path:"/",component:O})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(p,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[39,1,2]]]);
//# sourceMappingURL=main.30347d45.chunk.js.map