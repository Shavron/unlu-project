(this["webpackJsonpunlu-project"]=this["webpackJsonpunlu-project"]||[]).push([[0],{39:function(e,t,a){e.exports=a(57)},44:function(e,t,a){},48:function(e,t,a){},51:function(e,t,a){},53:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(14),o=a.n(c),l=(a(44),a(37)),i=a(5),s=a(30),u=a(15),m=a(60),f=a(22),d=a.n(f),h=a(62),g=a(59);a(46),a(47),a(48);function E(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{className:"",onClick:function(){return e.getModalData(e.feed)}},r.a.createElement(h.a.Header,null,r.a.createElement(h.a.Title,null,e.feed.event_name),r.a.createElement(h.a.Text,{className:"text-muted"},r.a.createElement("i",{className:"fa fa-clock-o","aria-hidden":"true"})," ",d()(e.feed.event_date).format("lll"))),r.a.createElement(g.a,{src:e.feed.thumbnail_image,thumbnail:!0}),r.a.createElement(h.a.Footer,{className:"text-muted text-center"},r.a.createElement(h.a.Body,null,r.a.createElement(h.a.Link,{className:"text-muted text-center"},r.a.createElement("i",{className:"fa fa-heart"}," ",e.feed.likes)," "),r.a.createElement(h.a.Link,{className:"text-muted text-center"},r.a.createElement("i",{className:"fa fa-share"}," ",e.feed.shares)),r.a.createElement(h.a.Link,{className:"text-muted text-center"},r.a.createElement("i",{className:"fa fa-eye"}," ",e.feed.views))))))}var v=a(61),b=(a(51),r.a.memo((function(e){return console.log(e),r.a.createElement(v.a,Object.assign({},e,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),r.a.createElement(h.a,null,r.a.createElement(v.a.Header,{closeButton:!0,onClick:function(){return e.closemodal(!1)}},r.a.createElement(v.a.Title,{id:"contained-modal-title-vcenter"},e.feed.event_name,r.a.createElement("br",null),r.a.createElement(v.a.Title,{className:"text-muted"},r.a.createElement("p",null,r.a.createElement("i",{className:"fa fa-clock-o","aria-hidden":"true"})," ",d()(e.feed.event_date).format("lll"))))),r.a.createElement(g.a,{src:e.feed.thumbnail_image,thumbnail:!0}),r.a.createElement(h.a.Footer,{className:"text-muted text-center"},r.a.createElement(h.a.Body,null,r.a.createElement(h.a.Link,{className:"text-muted text-center"},r.a.createElement("i",{className:"fa fa-heart"}," ",e.feed.likes)," "),r.a.createElement(h.a.Link,{className:"text-muted text-center"},r.a.createElement("i",{className:"fa fa-share"}," ",e.feed.shares)),r.a.createElement(h.a.Link,{className:"text-muted text-center"},r.a.createElement("i",{className:"fa fa-eye"}," ",e.feed.views))))))})));function p(e){var t=e.error;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card br text-center",style:{padding:"20px",color:"red",fontSize:"large"}},t.msg.toString()))}function w(e){return r.a.createElement("nav",{class:"navbar fixed-top navbar-light bg-light"},r.a.createElement(h.a.Body,{className:"text-muted"},"Sort\xa0",e.sorttype?r.a.createElement("i",{class:"fa sort fa-sort-amount-asc","aria-hidden":"true",onClick:e.changeStatus}):r.a.createElement("i",{class:"fa sort fa-sort-amount-desc","aria-hidden":"true",onClick:e.changeStatus}),"  ","\xa0\xa0",r.a.createElement(h.a.Link,{onClick:function(){return e.sortBy("likes")}},r.a.createElement("i",{className:"fa fa-heart","aria-hidden":"true"}," ","Likes")," "),r.a.createElement(h.a.Link,{onClick:function(){return e.sortBy("shares")}},r.a.createElement("i",{className:"fa fa-share","aria-hidden":"true"}," ","Shares")),r.a.createElement(h.a.Link,{onClick:function(){return e.sortBy("views")}},r.a.createElement("i",{className:"fa fa-eye","aria-hidden":"true"}," ","Views")),r.a.createElement(h.a.Link,{onClick:function(){return e.sortBy("event_date")}},r.a.createElement("i",{className:"fa fa-clock-o","aria-hidden":"true"}," ","Date"))))}function k(){var e=Object(n.useState)(0),t=Object(u.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!0),l=Object(u.a)(o,2),i=l[0],f=l[1],d=Object(n.useState)([]),h=Object(u.a)(d,2),g=h[0],v=h[1],k=Object(n.useState)({}),N=Object(u.a)(k,2),O=N[0],y=N[1],S=Object(n.useState)(!1),j=Object(u.a)(S,2),x=j[0],L=j[1],B=Object(n.useState)({}),C=Object(u.a)(B,2),I=C[0],T=C[1],J=Object(n.useState)({error:!1,msg:""}),W=Object(u.a)(J,2),A=W[0],_=W[1],F=["http://www.mocky.io/v2/59b3f0b0100000e30b236b7e","http://www.mocky.io/v2/59ac28a9100000ce0bf9c236","http://www.mocky.io/v2/59ac293b100000d60bf9c239"];Object(n.useEffect)((function(){Object.keys(g).length&&(localStorage.setItem("feeds",JSON.stringify(g)),y(g))}),[g]);var R=function(e){T(e),L(!0)};Object(n.useEffect)((function(){navigator.onLine&&window.addEventListener("scroll",(function(){var e=parseInt(window.pageYOffset/2100);e&&F.length>e&&a!=e&&c(e)}))})),Object(n.useEffect)((function(){if(navigator.onLine)fetch(F[a],{cache:"force-cache"}).then((function(e){return 200!==e.status&&_({error:!0,msg:"Oops :) API ERROR"}),e.json()})).then((function(e){var t=[].concat(Object(s.a)(g),Object(s.a)(e.posts)),a=t.filter((function(e,a){var n=JSON.stringify(e);return a===t.findIndex((function(e){return JSON.stringify(e)===n}))}));v(a),localStorage.setItem("feeds",JSON.stringify(a))})).catch((function(e){var t=localStorage.getItem("feeds")?JSON.parse(localStorage.getItem("feeds")):[];t?v(t):_({error:!0,msg:"Oops :) No data Available This Moment"})}));else{var e=localStorage.getItem("feeds")?JSON.parse(localStorage.getItem("feeds")):[];e&&v(e),_({error:!0,msg:"Unable to connect to the internet !!"})}}),[a]);return r.a.createElement(r.a.Fragment,null,O.length>0&&r.a.createElement(w,{sortBy:function(e){g.sort((function(t,a){return 0==i?a[e]>t[e]?1:a[e]<t[e]?-1:0:a[e]<t[e]?1:a[e]>t[e]?-1:0})),window.scrollTo({behavior:"smooth",top:0}),y(Object.assign([],g))},sorttype:i,changeStatus:function(){return f(!i)}}),r.a.createElement(m.a,{style:{marginTop:"65px"}},O.length>0?O.map((function(e,t){return r.a.createElement(E,{feed:e,key:t,getModalData:R})})):"",r.a.createElement(b,{show:x,feed:I,closemodal:function(){return L(!1)}}),A.error?r.a.createElement(p,{error:A}):""))}a(53);var N=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,null,r.a.createElement(i.a,{exact:!0,path:"/",component:k})))},O=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function y(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/unlu-project",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/unlu-project","/service-worker.js");O?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):y(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):y(t,e)}))}}()}},[[39,1,2]]]);
//# sourceMappingURL=main.0435a920.chunk.js.map